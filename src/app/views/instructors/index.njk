{% extends "layout.njk" %}

{% block content %}
<div class="card table-container">

  <div class="header">
    <a href="/instructors/create" class="button">Novo</a>

    <form action="/instructors" method="GET">
      <input type="text" name="filter" placeholder="Nome ou atendimentos" value={{filter}}>
      <button type="submit">Filtrar</button>
    </form>

  </div>
  
  <table width="100%">
    <thead>
      <tr>
        <th>Instrutor</th>
        <th>Atendimento</th>
        <th>Quantidade de Alunos</th>
        <th>Ação</th>
      </tr>
    </thead>

    <tbody>
      {% for instructor in instructors %}
      <tr>
        <td>
          <span style="background-image: url({{instructor.avatar_url}}})"></span>
        {{ instructor.name }}
        </td>
      
        <td>
          {% for service in  instructor.services.split(',') %}
            <span class="service">{{ service }}</span>
          {% endfor %} 
        </td> 
        <td><span class="service">{{instructor.total_students}}</span></td>
        <td><a href="/instructors/{{ instructor.id }}">Ver</a></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="pagination" 
      data-page={{pagination.page}} 
      data-total={{pagination.total}}
      data-filter={{filter}}>
  </div>
  
</div>
{% endblock content %}